import{g as D,S as K,N as V,P as j,K as J}from"./pagination.js";function z({swiper:e,extendParams:C,on:r,emit:a,params:n}){e.autoplay={running:!1,paused:!1,timeLeft:0},C({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,c,i=n&&n.autoplay?n.autoplay.delay:3e3,f=n&&n.autoplay?n.autoplay.delay:3e3,l,g=new Date().getTime(),b,S,m,M,L,d,h;function O(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",O),!(h||t.detail&&t.detail.bySwiperTouchMove)&&y())}const I=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(f=l,b=!1);const t=e.autoplay.paused?l:g+f-new Date().getTime();e.autoplay.timeLeft=t,a("autoplayTimeLeft",t,t/i),c=requestAnimationFrame(()=>{I()})},k=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(o=>o.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},T=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),I();let s=typeof t>"u"?e.params.autoplay.delay:t;i=e.params.autoplay.delay,f=e.params.autoplay.delay;const o=k();!Number.isNaN(o)&&o>0&&typeof t>"u"&&(s=o,i=o,f=o),l=s;const E=e.params.speed,F=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(E,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,E,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(E,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,E,!0,!0),a("autoplay")),e.params.cssMode&&(g=new Date().getTime(),requestAnimationFrame(()=>{T()})))};return s>0?(clearTimeout(u),u=setTimeout(()=>{F()},s)):requestAnimationFrame(()=>{F()}),s},A=()=>{g=new Date().getTime(),e.autoplay.running=!0,T(),a("autoplayStart")},v=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(c),a("autoplayStop")},p=(t,s)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),t||(d=!0);const o=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",O):y()};if(e.autoplay.paused=!0,s){L&&(l=e.params.autoplay.delay),L=!1,o();return}l=(l||e.params.autoplay.delay)-(new Date().getTime()-g),!(e.isEnd&&l<0&&!e.params.loop)&&(l<0&&(l=0),o())},y=()=>{e.isEnd&&l<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(g=new Date().getTime(),d?(d=!1,T(l)):T(),e.autoplay.paused=!1,a("autoplayResume"))},q=()=>{if(e.destroyed||!e.autoplay.running)return;const t=D();t.visibilityState==="hidden"&&(d=!0,p(!0)),t.visibilityState==="visible"&&y()},P=t=>{t.pointerType==="mouse"&&(d=!0,h=!0,!(e.animating||e.autoplay.paused)&&p(!0))},N=t=>{t.pointerType==="mouse"&&(h=!1,e.autoplay.paused&&y())},x=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",N))},B=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",N))},R=()=>{D().addEventListener("visibilitychange",q)},_=()=>{D().removeEventListener("visibilitychange",q)};r("init",()=>{e.params.autoplay.enabled&&(x(),R(),A())}),r("destroy",()=>{B(),_(),e.autoplay.running&&v()}),r("_freeModeStaticRelease",()=>{(m||d)&&y()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?v():p(!0,!0)}),r("beforeTransitionStart",(t,s,o)=>{e.destroyed||!e.autoplay.running||(o||!e.params.autoplay.disableOnInteraction?p(!0,!0):v())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){v();return}S=!0,m=!1,d=!1,M=setTimeout(()=>{d=!0,m=!0,p(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!S)){if(clearTimeout(M),clearTimeout(u),e.params.autoplay.disableOnInteraction){m=!1,S=!1;return}m&&e.params.cssMode&&y(),m=!1,S=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(L=!0)}),Object.assign(e.autoplay,{start:A,stop:v,pause:p,resume:y})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".featured-carousel").forEach(a=>{const n=a;if(!n.getAttribute("data-swiper-id"))return;const c=n.querySelector(".swiper");c&&new K(c,{modules:[V,j,J,z],loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:n.querySelector(".swiper-pagination"),clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){const i=n.querySelector(".swiper-current");i&&(i.textContent=(this.realIndex+1).toString())}}})}),document.querySelectorAll(".featured-carousel .swiper-pagination").forEach(a=>{a.addEventListener("click",n=>{n.stopPropagation()},!0)}),document.querySelectorAll("[data-sample-card]").forEach(a=>{a.addEventListener("click",n=>{const u=n.target;if(u.closest("[data-clickable-area]"),u.closest(".swiper-pagination")||u.closest(".swiper-slide"))return;const i=a.getAttribute("data-card-data");if(i&&window.openSampleModal){const f=JSON.parse(i);window.openSampleModal(f)}})})});
