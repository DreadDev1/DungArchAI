import{S as C,N as w,P as L,K as S}from"./pagination.js";const E={OpenURL:{label:"Open URL",style:"secondary"},OpenFolder:{label:"Open Folder",style:"secondary"},OpenScene:{label:"Open Scene",style:"primary"},OpenTheme:{label:"Open Theme",style:"secondary"},OpenSnapFlow:{label:"Open Snap Flow",style:"primary"},OpenGridFlow:{label:"Open Grid Flow",style:"primary"},OpenSnapGridFlow:{label:"Open Snap Grid Flow",style:"primary"},CloneScene:{label:"Clone Scene",style:"primary"},CloneSceneAndBuild:{label:"Clone & Build",style:"primary"},CloneTheme:{label:"Clone Theme",style:"secondary"},CloneSnapFlow:{label:"Clone Snap Flow",style:"secondary"},CloneGridFlow:{label:"Clone Grid Flow",style:"secondary"},CloneSnapGridFlow:{label:"Clone Snap Grid Flow",style:"secondary"},Documentation:{label:"Documentation",style:"secondary"},Video:{label:"Watch Video",style:"secondary"},LauncherURL:{label:"Get Asset",style:"tertiary"},AddStarterContent:{label:"Add Starter Content",style:"secondary"},News:{label:"Read More",style:"secondary"}};function u(e,t){const s=e.path||e.url||t||"",l=new URL(`daaction://${e.type}`);return s&&l.searchParams.set("path",s),e.title&&l.searchParams.set("title",e.title),l.toString()}function v(e){const t=E[e.type];return{label:e.title||e.label||t.label||e.type,icon:t.icon,style:t.style||"secondary"}}function I(e){switch(e){case"primary":return"btn btn-primary";case"secondary":return"btn btn-secondary";case"tertiary":return"btn btn-tertiary";default:return"btn btn-secondary"}}const r=document.querySelector("[data-modal-overlay]"),h=document.querySelector("[data-modal-close]");document.querySelector("[data-modal-content]");let i=null;function F(e){const t=document.getElementById("modal-single-image"),s=document.getElementById("modal-carousel"),l=document.getElementById("modal-image"),m=document.getElementById("modal-title"),b=document.getElementById("modal-description"),a=document.getElementById("modal-path"),d=document.getElementById("modal-category"),c=document.getElementById("modal-actions");if(m&&(m.textContent=e.title),b&&(b.textContent=e.desc||e.shortDesc),a&&(e.path?(a.textContent=e.path,a.style.display="block"):a.style.display="none"),d&&(d.textContent=e.category),e.images&&Array.isArray(e.images)&&e.images.length>1)t.style.display="none",s.style.display="block",O(e.images,e.title);else{t.style.display="block",s.style.display="none";const p=e.images&&e.images.length>0?e.images[0]:"";l&&p&&(l.src=p,l.alt=e.title),i&&(i.destroy(),i=null)}if(c){if(c.innerHTML="",e.path){const n=document.createElement("button");n.className="btn btn-primary",n.innerHTML='<i class="fas fa-copy"></i><span>Clone</span>',n.onclick=()=>{const o=e.buildOnClone?"CloneSceneAndBuild":"CloneScene",f=u({type:o,path:e.path},e.path);window.location.href=f},c.appendChild(n)}if(e.path){const n=document.createElement("a");n.className="btn btn-secondary";const o=u({type:"FolderView",path:e.path},e.path);n.href=o,n.innerHTML='<img src="./images/unreal_find.svg" alt="" class="btn-icon-img" /><span>View Folder</span>',c.appendChild(n)}if(e.videoUrl){const n=document.createElement("a");n.className="btn btn-secondary";const o=u({type:"Video",url:e.videoUrl},e.videoUrl);n.href=o,n.innerHTML='<i class="fab fa-youtube"></i><span>Watch Video</span>',c.appendChild(n)}if(e.docsUrl){const n=document.createElement("a");n.className="btn btn-secondary";const o=u({type:"Documentation",url:e.docsUrl},e.docsUrl);n.href=o,n.innerHTML='<i class="fas fa-book"></i><span>View Docs</span>',c.appendChild(n)}const p=e.actions||[];p.length>0&&p.forEach(n=>{const o=v(n),f=u(n,e.path),y=document.createElement("a");y.className=I(o.style),y.href=f,y.textContent=o.label,n.width&&(y.style.minWidth=`${n.width}px`),c.appendChild(y)})}r.classList.add("is-active"),document.body.classList.add("modal-open"),requestAnimationFrame(()=>{r.classList.add("is-visible")})}function O(e,t){const s=document.getElementById("modal-carousel-slides"),l=document.getElementById("swiper-current"),m=document.getElementById("swiper-total");s&&(s.innerHTML="",e.forEach(b=>{const a=document.createElement("div");a.className="swiper-slide";const d=document.createElement("img");d.src=b,d.alt=t,a.appendChild(d),s.appendChild(a)}),m&&(m.textContent=e.length.toString()),i&&i.destroy(),i=new C(".swiper",{modules:[w,L,S],loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1},on:{slideChange:function(){l&&(l.textContent=(this.realIndex+1).toString())}}}))}function g(){if(r.classList.remove("is-visible"),i){try{i.destroy(!0,!0)}catch(e){console.warn("Error destroying swiper:",e)}i=null}document.body.classList.remove("modal-open"),setTimeout(()=>{r.classList.remove("is-active"),document.body.style.overflow="",document.body.style.position=""},250)}h&&h.addEventListener("click",g);r&&r.addEventListener("click",e=>{e.target===r&&g()});document.addEventListener("keydown",e=>{e.key==="Escape"&&r?.classList.contains("is-active")&&g()});window.openSampleModal=F;
